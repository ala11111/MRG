<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_print_cheque_template">
        <t t-call="web.basic_layout">
            <div class="page">
                <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Orbitron"/>
                <style>
                    @font-face {
                    font-family: 'MICR';
                    src: local('MICR'), local('MICR'),
                    url(/dev_print_cheque/static/src/font/micrenc.ttf) format('truetype');
                    }

                    .micrenc {
                    font-family: MICR;
                    font-size: 28px;
                    }


                    .rotate {
                    -webkit-transform: rotate(-45deg);
                    -moz-transform: rotate(-45deg);
                    -ms-transform: rotate(-45deg);
                    -o-transform: rotate(-45deg);
                    border-top:1px solid black;
                    border-bottom:1px solid black;
                    }
                </style>

                <div class="row"
                     t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;color:#{payment.cheque_formate_id.color};};">
                    <t t-if="payment.cheque_formate_id.is_date">
                        <t t-set="date" t-value="(payment.date)"/>
                        <t t-if="payment.cheque_formate_id.date_formate == 'dd_mm'">
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.s_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator"/>
                            </div>
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.t_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fo_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator"/>
                            </div>
                        </t>
                        <t t-if="payment.cheque_formate_id.date_formate == 'mm_dd'">
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.s_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator"/>
                            </div>
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.t_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fo_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator"/>
                            </div>
                        </t>
                        <t t-if="payment.cheque_formate_id.year_formate == 'yy'">

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fi_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.si_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                        </t>
                        <t t-if="payment.cheque_formate_id.year_formate == 'yyyy'">

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fi_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.si_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.se_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.e_d_m_left}px;margin-top:#{payment.cheque_formate_id.date_m_top}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                        </t>
                    </t>

                    <t t-if="payment.cheque_formate_id.is_date_two">
                        <t t-set="date" t-value="(payment.date)"/>
                        <t t-if="payment.cheque_formate_id.date_formate_two == 'dd_mm'">
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.s_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator_two"/>
                            </div>
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.t_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fo_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator_two"/>
                            </div>
                        </t>
                        <t t-if="payment.cheque_formate_id.date_formate == 'mm_dd'">
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.s_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator_two"/>
                            </div>
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.t_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fo_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                                <span style="margin-left:3px" t-esc="payment.cheque_formate_id.date_seprator_two"/>
                            </div>
                        </t>
                        <t t-if="payment.cheque_formate_id.year_formate == 'yy'">

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fi_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.si_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                        </t>
                        <t t-if="payment.cheque_formate_id.year_formate == 'yyyy'">

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.fi_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.si_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.se_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.e_d_m_left_two}px;margin-top:#{payment.cheque_formate_id.date_m_top_two}px;position: absolute;};">
                                <span t-esc="date"/>
                            </div>

                        </t>
                    </t>

                    <!-- Print Partner Name in Cheque -->
                    <t t-if="payment.cheque_formate_id.is_partner">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.partner_m_left}px;margin-top:#{payment.cheque_formate_id.partner_m_top}px;position: absolute;};"
                             class="col-8">
                            <t t-if="payment.cheque_formate_id.is_partner_bold">
                                <span style="font-weight:bold;text-transform: capitalize"
                                      t-esc="payment.get_partner_name()"/>
                            </t>
                            <t t-if="not payment.cheque_formate_id.is_partner_bold">
                                <span style="text-transform: capitalize"
                                      t-esc="payment.get_partner_name()"/>
                            </t>

                        </div>
                    </t>

                    <!-- Print Partner Address -->
                    <span t-if="payment.partner_id">
                        <t t-if="payment.cheque_formate_id.print_partner_address">
                            <div t-attf-style="margin-left:#{payment.cheque_formate_id.partner_address_left_margin}px;margin-top:#{payment.cheque_formate_id.partner_address_top_margin}px;position: absolute;};"
                                 class="col-8">
                                <span t-if="payment.partner_id.name">
                                    Name:<span style="text-transform: capitalize" t-esc="payment.partner_id.name"/>
                                    <br/>
                                </span>
                                <span t-if="payment.partner_id.street">
                                    <span style="text-transform: capitalize" t-esc="payment.partner_id.street"/>
                                    <br/>
                                </span>
                                <span t-if="payment.partner_id.street2">
                                    <span style="text-transform: capitalize" t-esc="payment.partner_id.street2"/>
                                    <br/>
                                </span>
                                <span t-if="payment.partner_id.city">
                                    <span style="text-transform: capitalize" t-esc="payment.partner_id.city"/>,&#160;
                                </span>
                                <span t-if="payment.partner_id.state_id">
                                    <span style="text-transform: capitalize" t-esc="payment.partner_id.state_id.name"/>,&#160;
                                </span>
                                <span t-if="payment.partner_id.zip">
                                    <span t-esc="payment.partner_id.zip"/>
                                </span>
                            </div>
                        </t>
                    </span>

                    <t t-if="payment.cheque_formate_id.is_print_footer_text">
                        <t t-if="payment.cheque_formate_id.cheque_footer_text">
                            <div t-attf-style="font-size:#{payment.cheque_formate_id.footer_font_size}px;margin-left:#{payment.cheque_formate_id.footer_m_left}px;margin-top:#{payment.cheque_formate_id.footer_m_top}px;position: absolute;};">
                                <t t-if="payment.cheque_formate_id.is_footer_text_bold">
                                    <span style="font-weight:bold;text-transform: capitalize" class="micrenc"
                                          t-esc="get_footer_text(payment.cheque_formate_id.cheque_footer_text,payment.cheque_no)"/>
                                </t>
                                <t t-if="not payment.cheque_formate_id.is_footer_text_bold">
                                    <span style="text-transform: capitalize" class="micrenc"
                                          t-esc="get_footer_text(payment.cheque_formate_id.cheque_footer_text,payment.cheque_no)"/>
                                </t>
                            </div>
                        </t>
                    </t>


                    <t t-if="payment.cheque_formate_id.is_acc_pay">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.acc_pay_m_left}px;margin-top:#{payment.cheque_formate_id.acc_pay_m_top}px;position: absolute;};">
                            <div class='rotate text-center' style="width:60px;font-size:12px">
                                A/C PAY
                            </div>
                        </div>
                    </t>

                    <!-- Print Amount in Digit In Cheque -->
                    <t t-if="payment.cheque_formate_id.is_amount">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.amt_m_left}px;margin-top:#{payment.cheque_formate_id.amt_m_top}px;position: absolute;};">
                            <t t-if="payment.cheque_formate_id.is_star">
                                ***
                            </t>
                            <t t-if="payment.cheque_formate_id.is_currency">
                                Amount:<span t-field="payment.amount"
                                      t-field-options='{"widget": "monetary", "display_currency": "payment.currency_id"}'/>
                            </t>
                            <t t-if="not payment.cheque_formate_id.is_currency">
                                Amount:<span t-esc="'%.2f'%(payment.amount)"/>
                            </t>

                            <t t-if="payment.cheque_formate_id.is_star">
                                ***
                            </t>

                        </div>
                    </t>

                    <!-- Print Amount in Digit Two In Cheque -->
                    <t t-if="payment.cheque_formate_id.is_amount_two">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.amt_m_left_two}px;margin-top:#{payment.cheque_formate_id.amt_m_top_two}px;position: absolute;};">
                            <t t-if="payment.cheque_formate_id.is_star_two">
                                ***
                            </t>
                            <t t-if="payment.cheque_formate_id.is_currency_two">
                                Amount:<span t-field="payment.amount"
                                      t-field-options='{"widget": "monetary", "display_currency": "payment.currency_id"}'/>
                            </t>
                            <t t-if="not payment.cheque_formate_id.is_currency_two">
                                Amount:<span t-esc="'%.2f'%(payment.amount)"/>
                            </t>

                            <t t-if="payment.cheque_formate_id.is_star_two">
                                ***
                            </t>

                        </div>
                    </t>


                    <!-- Print Amount in Word In Cheque -->
                    <t t-if="payment.cheque_formate_id.is_amount_word">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.amt_w_m_left}px;margin-top:#{payment.cheque_formate_id.amt_w_m_top}px;position: absolute;};"
                             class="col-8">
                            <t t-if="payment.cheque_formate_id.is_word_bold">
                                <span style="font-weight:bold;text-transform: capitalize" t-esc="payment.amount_word()"/>
                            </t>
                            <t t-if="not payment.cheque_formate_id.is_word_bold">
                                <span style="text-transform: capitalize" t-esc="payment.amount_word()"/>
                            </t>
                        </div>
                    </t>


                    <t t-if="payment.cheque_formate_id.is_company">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.c_margin_left}px;margin-top:#{payment.cheque_formate_id.c_margin_top}px;position: absolute;};"
                             class="col-4">
                            <span style="text-transform: capitalize" t-esc="payment.company_id.name"/>
                        </div>
                    </t>

                    <t t-if="payment.cheque_formate_id.is_cheque_no and payment.cheque_no">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.cheque_margin_left}px;margin-top:#{payment.cheque_formate_id.cheque_margin_top}px;position: absolute;};"
                             class="col-4">
                            Cheque Npayment.
                            <span t-esc="payment.cheque_no"/>
                        </div>
                    </t>


                    <t t-if="payment.cheque_formate_id.is_free_one and payment.text_free">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_one_margin_left}px;margin-top:#{payment.cheque_formate_id.f_one_margin_top}px;position: absolute;};">
                            <span style="text-transform: capitalize" t-esc="payment.text_free"/>
                        </div>
                    </t>


                    <t t-if="payment.cheque_formate_id.is_free_two and payment.text_free">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_two_margin_left}px;margin-top:#{payment.cheque_formate_id.f_two_margin_top}px;position: absolute;};">
                            <span style="text-transform: capitalize" t-esc="payment.text_free"/>
                        </div>
                    </t>

                    <t t-if="payment.cheque_formate_id.is_stub">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.stub_margin_left}px;margin-top:#{payment.cheque_formate_id.stub_margin_top}px;position: absolute;"
                             class="col-12">
                            <table class="table table-condensed" style="width:95%">
                                <t t-if="payment.cheque_no">
                                    <tr t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                        <td colspan="4" class="text-right" style="border:1px solid #FFF">
                                            Cheque Npayment.
                                            <span t-field="payment.cheque_no"/>
                                        </td>
                                    </tr>
                                </t>
                                <tr t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                    <td colspan="2" class="text-center" style="border:1px solid #FFF">
                                        <span t-field="payment.partner_id.name"/>
                                    </td>
                                    <td colspan="2" class="text-center" style="border:1px solid #FFF">
                                        Date:
                                        <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%m-%d-%Y')"/>


                                    </td>
                                </tr>
                                <tr t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                    <th style="border-bottom:1px solid #000">Date</th>
                                    <th style="border-bottom:1px solid #000">Type</th>
                                    <th style="border-bottom:1px solid #000">Reference</th>
                                    <th style="border-bottom:1px solid #000" class="text-right">Payment</th>
                                </tr>
                                <tbody class="sale_tbody"
                                       t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                    <tr>
                                        <td>
                                            <span t-field="payment.date"/>
                                        </td>

                                        <td>
                                            <span t-field="payment.payment_type"/>
                                        </td>

                                        <td>
                                            <span t-field="payment.date"/>
                                        </td>

                                        <td class="text-right">
                                            <span t-field="payment.amount"
                                                  t-field-options='{"widget": "monetary", "display_currency": "payment.currency_id"}'/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </t>

                    <t t-if="payment.cheque_formate_id.is_f_line_sig">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.f_sig_m_left}px;margin-top:#{payment.cheque_formate_id.f_sig_m_top}px;position: absolute;};">
                            _______________________
                        </div>
                    </t>

                    <t t-if="payment.cheque_formate_id.is_s_line_sig">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.s_sig_m_left}px;margin-top:#{payment.cheque_formate_id.s_sig_m_top}px;position: absolute;};">
                            _______________________
                        </div>
                    </t>


                    <t t-if="payment.cheque_formate_id.print_journal">
                        <div t-attf-style="margin-left:#{payment.cheque_formate_id.journal_margin_left}px;margin-top:#{payment.cheque_formate_id.journal_margin_top}px;position: absolute;};"
                             class="col-12">
                            <table class="table table-condensed" style="width:95%">
                                <thead t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                    <tr>
                                        <th>Description</th>
                                        <th>Date</th>
                                        <th>Partner</th>
                                        <th>Account</th>
                                        <th class="text-right">Credit</th>
                                        <th class="text-right">Debit</th>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody"
                                       t-attf-style="font-size:#{payment.cheque_formate_id.font_size}px;">
                                    <tr t-foreach="payment.invoice_line_ids" t-as="l">
                                        <td>
                                            <span t-field="l.move_id.name"/>
                                        </td>

                                        <td>
                                            <span t-field="l.date"/>
                                        </td>

                                        <td>
                                            <span t-field="l.partner_id.name"/>
                                        </td>

                                        <td>
                                            <span t-field="l.account_id.name"/>
                                        </td>

                                        <td class="text-right">
                                            <span t-field="l.credit"
                                                  t-field-options='{"widget": "monetary", "display_currency": "payment.currency_id"}'/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.debit"
                                                  t-field-options='{"widget": "monetary", "display_currency": "payment.currency_id"}'/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </t>

                </div>
            </div>
        </t>

    </template>

    <template id="report_print_cheque">
        <t t-call="web.html_container">
            <t t-foreach="payments" t-as="payment">
                <t t-call="dev_print_cheque.report_print_cheque_template"/>
            </t>
        </t>
    </template>


</odoo>
